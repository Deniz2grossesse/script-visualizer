
<!DOCTYPE html>
<html>
  <head>
    <base target="_top">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>One Click Onboarding</title>
    <?!= HtmlService.createHtmlOutputFromFile('Stylesheet').getContent(); ?>
  </head>
  <body>
    <div class="container">
      <h1>One Click Onboarding</h1>
      
      <div class="warning-message">
        <strong>⚠️ Important:</strong> These three fields are mandatory, you cannot start entering them without having filled them in.
      </div>

      <div class="form-section">
        <div class="form-group">
          <label for="department">Department *</label>
          <input type="text" id="department" maxlength="4" placeholder="Department (1-4 chars)">
        </div>

        <div class="form-group">
          <label for="projectCode">Project/Application Code *</label>
          <input type="text" id="projectCode" maxlength="4" placeholder="Project code (1-4 chars)">
        </div>

        <div class="form-group">
          <label for="email">Requester's Email *</label>
          <input type="email" id="email" placeholder="Email address">
        </div>
      </div>

      <div class="button-row">
        <button onclick="addRule()" class="btn btn-primary">
          <span class="icon">+</span> Add Rule
        </button>
      </div>

      <div id="rulesContainer"></div>

      <div class="button-row">
        <button onclick="deleteRules()" class="btn btn-danger">Delete</button>
        <button onclick="resumeDraft()" class="btn btn-secondary">Resume Draft</button>
        <button onclick="saveDraft()" class="btn btn-secondary">Save Draft</button>
        <button onclick="verifyRules()" class="btn btn-warning">Verify</button>
        <button onclick="generateScripts()" class="btn btn-success">
          Generate Scripts <span class="icon">→</span>
        </button>
      </div>

      <div id="output" style="display: none;"></div>
    </div>

    <!-- Credentials Dialog -->
    <div id="credentialsDialog" class="dialog-overlay" style="display: none;">
      <div class="dialog-content">
        <h3>Authentication Required</h3>
        <p>Please enter your credentials TA-I0034</p>
        
        <div class="form-group">
          <label for="username">Username:</label>
          <input type="text" id="username" placeholder="Enter username">
        </div>
        
        <div class="form-group">
          <label for="password">Password:</label>
          <input type="password" id="password" placeholder="Enter password">
        </div>
        
        <div class="dialog-buttons">
          <button onclick="hideCredentialsDialog()" class="btn btn-secondary">Cancel</button>
          <button onclick="submitCredentials()" class="btn btn-primary">Generate Scripts</button>
        </div>
      </div>
    </div>

    <?!= HtmlService.createHtmlOutputFromFile('JavaScript').getContent(); ?>
  </body>
</html>
